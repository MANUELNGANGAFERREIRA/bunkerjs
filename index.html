<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframes com Tratamento de Erros</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        iframe {
            flex: 1;
            width: 100%;
            border: none;
            filter: blur(1px); /* Aplica o filtro de desfoque */
        }
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8); /* Fundo branco semi-transparente */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
            color: black;
            text-align: center;
        }
        .fallback {
            display: none; /* Inicialmente oculto */
            flex: 1;
            width: 100%;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            color: #555;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const iframeUrls = [
                'https://www.profitablecpmrate.com/j1kdjr9s6?key=f2d7571f8ce13d380e1cba14a12fe05b',
                'https://www.profitablecpmrate.com/wna3bzxq?key=0cd41fc5457b22a8eeeccaefd376b64f',
                'https://www.profitablecpmrate.com/eey46mv65j?key=a2eac7825ff7405fadb076fb97cd352b'
            ];

            const container = document.body;
            let currentIndex = 0;

            function addIframe(url) {
                const iframe = document.createElement('iframe');
                iframe.src = url;

                // Verifica se o iframe carregou com sucesso
                iframe.onload = function() {
                    console.log(`Iframe ${currentIndex + 1} carregado com sucesso.`);
                    currentIndex++;
                    if (currentIndex < iframeUrls.length) {
                        setTimeout(() => addIframe(iframeUrls[currentIndex]), 2000);
                    }
                };

                // Trata erros de carregamento
                iframe.onerror = function() {
                    console.error(`Erro ao carregar iframe ${currentIndex + 1}. Tentando novamente...`);
                    const fallbackDiv = document.createElement('div');
                    fallbackDiv.className = 'fallback';
                    fallbackDiv.textContent = 'Erro ao carregar o anúncio. Tentando o próximo...';
                    container.appendChild(fallbackDiv);

                    // Tenta recarregar o iframe após 3 segundos
                    setTimeout(() => {
                        container.removeChild(fallbackDiv);
                        addIframe(url); // Tenta carregar o mesmo iframe novamente
                    }, 3000);
                };

                container.appendChild(iframe);
            }

            addIframe(iframeUrls[currentIndex]);
        });
    </script>
</head>
<body>
    <div class="overlay">Obrigado por ver os anúncios, eles nos ajudam bastante!</div>
</body>
</html>